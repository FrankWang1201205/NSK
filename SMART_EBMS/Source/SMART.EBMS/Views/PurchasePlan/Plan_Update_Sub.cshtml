@model PurchasePlan_Line
@{
    Layout = null;
}

<table style="width:100%;">
    <tr>
        <td style="vertical-align:top;  width:130px;">
            @if (!string.IsNullOrEmpty(Model.MatInfo.MatImgPath))
            {
                <div style="border: 1px solid #e5e5e5; width: 100%;  text-align: center; background-color: white; "><img style="width:129px; max-height:129px;" src="~/@Model.MatInfo.MatImgPath" /></div>
            }
            else
            {
                <div style="border: 1px solid #e5e5e5; width: 100%; height:129px; line-height:129px; text-align: center; background-color: white; color:silver; ">No Photo</div>
            }
        </td>
        <td style="vertical-align:top; padding-left:10px;">
            <table id="ShowTable" class="FormTable_Sim FormTable_Sim_Border text-nowrap" style="width:100%;">
                <tr>
                    <td style="text-align: right; width: 100px;">产品编号</td>
                    <td colspan="3">
                        <span>@Model.MatInfo.MatSn</span>
                    </td>
                </tr>


                <tr>
                    <td style="text-align: right; ">产品名称</td>
                    <td colspan="3">@Model.MatInfo.MatName</td>
                </tr>

                <tr>
                    <td style="text-align: right; ">规格型号</td>
                    <td colspan="3">@Model.MatInfo.MatSpecifications</td>
                </tr>


                <tr>
                    <td style="text-align: right; ">品牌</td>
                    <td style="width:120px;">@Model.MatInfo.MatBrand</td>
                    <td style="text-align: right; width:100px;">单位</td>
                    <td>@Model.MatInfo.MatUnit</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<p></p>
<form id="MySubmitForm" action="~/PurchasePlan/Plan_Update_Sub_Post/@Model.MatID" method="post">
    <input type="hidden" name="Month" id="Month" value="@Model.Month" />
    <table class="table table-condensed table-bordered text-nowrap">
        <tr class="active">
            <td style="text-align:center; width:70px;">&nbsp;</td>
            <td style="text-align:center; width:10px;">@Model.Next_Mon_A</td>
            <td style="text-align:center; width:10px;">@Model.Next_Mon_B</td>
            <td style="text-align:center; width:10px;">@Model.Next_Mon_C</td>
            <td>&nbsp;</td>
        </tr>


        <tr>
            <td style="text-align:center;">预测需求</td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Next_Mon_Qty_A" name="Next_Mon_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Next_Mon_Qty_B" name="Next_Mon_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Next_Mon_Qty_C" name="Next_Mon_Qty_A" style="width:100px; text-align:center;" /></td>
            <td>&nbsp;</td>
        </tr>

        <tr>
            <td style="text-align:center;">在库可用</td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Wms_Qty_A" name="Wms_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Wms_Qty_B" name="Wms_Qty_B" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Wms_Qty_C" name="Wms_Qty_C" style="width:100px; text-align:center;" /></td>
            <td>&nbsp;</td>
        </tr>

        <tr style="display:none;">
            <td style="text-align:center;">在途可用</td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.PoLine_Qty_A" name="PoLine_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.PoLine_Qty_B" name="PoLine_Qty_B" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.PoLine_Qty_C" name="PoLine_Qty_C" style="width:100px; text-align:center;" /></td>
            <td>&nbsp;</td>
        </tr>

        <tr>
            <td style="text-align:center;">计划采购</td>
            <td><input type="number" class="MyInput" value="@Model.PoPlan_Next_Mon_Qty_A" name="PoPlan_Next_Mon_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" class="MyInput" value="@Model.PoPlan_Next_Mon_Qty_B" name="PoPlan_Next_Mon_Qty_B" style="width:100px; text-align:center;" /></td>
            <td><input type="number" class="MyInput" value="@Model.PoPlan_Next_Mon_Qty_C" name="PoPlan_Next_Mon_Qty_C" style="width:100px; text-align:center;" /></td>
            <td>&nbsp;</td>
        </tr>

        <tr>
            <td style="text-align:center;">建议采购</td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Auto_PoPlan_Next_Mon_Qty_A" name="Auto_PoPlan_Next_Mon_Qty_A" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Auto_PoPlan_Next_Mon_Qty_B" name="Auto_PoPlan_Next_Mon_Qty_B" style="width:100px; text-align:center;" /></td>
            <td><input type="number" readonly="readonly" class="MyInput ReadonlyInput_NoBorder" value="@Model.Auto_PoPlan_Next_Mon_Qty_C" name="Auto_PoPlan_Next_Mon_Qty_C" style="width:100px; text-align:center;" /></td>
            <td>&nbsp;</td>
        </tr>

    </table>
</form>

<p style="text-align:center;">
    <button onclick="MySubmitForm()" type="button" class="btn btn-primary btn-sm" style="width:70px;">递交</button>
</p>

<script>
    function MySubmitForm()
    {
        var FormObj = $("#MySubmitForm");
        var PostData = $(FormObj).serialize();
        var Url = $(FormObj).prop("action");
        DisAndEnabledBtn(1);
        $.post(Url, PostData, function (result) {
            if (result == "")
            {
                ReloadPage();
            } else {
                DisAndEnabledBtn(0);
                alert(result);
            }
        });

    }
</script>